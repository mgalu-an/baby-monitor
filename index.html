<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baby Monitor</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Roboto', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        #root {
            min-height: 100vh;
        }
        
        /* Success notification */
        .success-notification {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            animation: fadeIn 0.3s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: repeat(2, 1fr) !important;
            }
            
            .dashboard-button {
                padding: 32px 16px !important;
            }
            
            .dashboard-button .emoji {
                font-size: 48px !important;
            }
            
            .dashboard-button .label {
                font-size: 18px !important;
            }
            
            /* Tabs - smaller font for 3 buttons */
            button[onclick*="setCurrentView"] {
                font-size: 14px !important;
                padding: 10px 8px !important;
            }
            
            .nav-button-text {
                display: none;
            }
            
            .nav-button {
                padding: 12px 16px !important;
                min-width: 50px;
            }
            
            .summary-grid {
                grid-template-columns: repeat(3, 1fr) !important;
                gap: 8px !important;
            }
            
            .summary-box {
                padding: 12px 8px !important;
            }
            
            .summary-box > div:first-child {
                font-size: 28px !important;
                margin-bottom: 4px !important;
            }
            
            .summary-box > div:last-child {
                font-size: 24px !important;
            }
            
            /* Summary table mobile styles */
            table {
                font-size: 12px !important;
            }
            
            table th,
            table td {
                padding: 8px !important;
            }
            
            table th:first-child,
            table td:first-child {
                position: sticky;
                left: 0;
                background: white;
                z-index: 1;
            }
            
            table thead tr th:first-child {
                background: white !important;
            }
            
            table tbody tr:nth-child(even) td:first-child {
                background: #fafafa !important;
            }
            
            .pagination-button-text {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- React, ReactDOM z CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <!-- Babel Standalone do transpilacji JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Aplikacja -->
    <script type="text/babel">
        const { useState, useEffect } = React;

        // === KONFIGURACJA SUPABASE ===
        // ‚ö†Ô∏è ZAMIE≈É NA SWOJE DANE Z SUPABASE!
        // Settings ‚Üí API ‚Üí Project URL i anon public key
        const SUPABASE_URL = 'https://pbwxdbrsdjywtxjnjeqs.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBid3hkYnJzZGp5d3R4am5qZXFzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc0MzI4NzUsImV4cCI6MjA4MzAwODg3NX0.HIG2eAVKRsvTQ5pdhKkan8u_nd0dqQZ50tkDQa4nmmU';

        // Inicjalizacja Supabase
        const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        const App = () => {
            const [isLoggedIn, setIsLoggedIn] = useState(false);
            const [user, setUser] = useState(null);
            const [email, setEmail] = useState('');
            const [password, setPassword] = useState('');
            const [loginError, setLoginError] = useState('');
            const [authMode, setAuthMode] = useState('login'); // 'login', 'register', 'reset'
            const [successMessage, setSuccessMessage] = useState('');
            const [currentView, setCurrentView] = useState('dashboard');
            const [summaryPage, setSummaryPage] = useState(0);
            const ITEMS_PER_PAGE = 30;
            const [historicalSummary, setHistoricalSummary] = useState([]);
            const [entries, setEntries] = useState([]);
            const [selectedDate, setSelectedDate] = useState(new Date());
            const [showModal, setShowModal] = useState(false);
            const [modalType, setModalType] = useState('');
            const [modalData, setModalData] = useState({
                poop: false,
                pee: false,
                note: '',
                time: ''
            });
            const [editingEntry, setEditingEntry] = useState(null);
            const [showDeleteConfirm, setShowDeleteConfirm] = useState(null);
            const [showVitaminDPrompt, setShowVitaminDPrompt] = useState(false);
            const [showProbioticPrompt, setShowProbioticPrompt] = useState(false);
            const [showSuccessNotification, setShowSuccessNotification] = useState(false);
            const [notificationMessage, setNotificationMessage] = useState('');
            const [showManualAddModal, setShowManualAddModal] = useState(false);
            const [manualAddData, setManualAddData] = useState({
                feeding: false,
                poop: false,
                pee: false,
                date: '',
                time: ''
            });
            const [lastFeedingTime, setLastFeedingTime] = useState(null);
            const [currentTime, setCurrentTime] = useState(new Date());

            // Sprawd≈∫ czy u≈ºytkownik jest zalogowany
            useEffect(() => {
                // Sprawd≈∫ aktualnƒÖ sesjƒô
                supabase.auth.getSession().then(({ data: { session } }) => {
                    if (session) {
                        setUser(session.user);
                        setIsLoggedIn(true);
                    }
                });

                // Nas≈Çuchuj zmian w auth
                const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {
                    if (session) {
                        setUser(session.user);
                        setIsLoggedIn(true);
                    } else {
                        setUser(null);
                        setIsLoggedIn(false);
                    }
                });

                return () => subscription.unsubscribe();
            }, []);

            // Pobierz wpisy dla wybranej daty
            useEffect(() => {
                if (isLoggedIn) {
                    fetchEntries();
                }
            }, [isLoggedIn, selectedDate]);

            // Sprawd≈∫ czy pokazaƒá prompt o witaminie D (tylko dla dzisiejszej daty)
            useEffect(() => {
                if (isLoggedIn && isToday(selectedDate)) {
                    checkVitaminD();
                    checkProbiotic();
                }
            }, [isLoggedIn, entries, selectedDate]);

            // Pobierz historyczne podsumowanie gdy u≈ºytkownik prze≈ÇƒÖczy siƒô na zak≈Çadkƒô
            useEffect(() => {
                if (isLoggedIn && currentView === 'summary') {
                    setSummaryPage(0); // Reset do pierwszej strony
                    fetchHistoricalSummary();
                }
            }, [isLoggedIn, currentView]);

            // Update current time every minute for time since last feeding
            useEffect(() => {
                const timer = setInterval(() => {
                    setCurrentTime(new Date());
                }, 60000); // Update every minute
                return () => clearInterval(timer);
            }, []);

            // Fetch last feeding globally when on dashboard
            useEffect(() => {
                const fetchLastFeeding = async () => {
                    if (isLoggedIn && currentView === 'dashboard') {
                        const { data, error } = await supabase
                            .from('entries')
                            .select('*')
                            .eq('type', 'feeding')
                            .order('timestamp', { ascending: false })
                            .limit(1);
                        
                        if (!error && data && data.length > 0) {
                            setLastFeedingTime(new Date(data[0].timestamp));
                        }
                    }
                };
                fetchLastFeeding();
            }, [isLoggedIn, currentView, entries]);

            const getTimeSinceLastFeeding = () => {
                if (!lastFeedingTime) return null;
                
                const diff = currentTime - lastFeedingTime;
                const hours = Math.floor(diff / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                
                return { hours, minutes };
            };

            const isToday = (date) => {
                const today = new Date();
                return date.getDate() === today.getDate() &&
                       date.getMonth() === today.getMonth() &&
                       date.getFullYear() === today.getFullYear();
            };

            const checkVitaminD = () => {
                const hasVitaminD = entries.some(entry => entry.type === 'vitamin_d');
                setShowVitaminDPrompt(isToday(selectedDate) && !hasVitaminD);
            };

            const checkProbiotic = () => {
                const hasProbiotic = entries.some(entry => entry.type === 'probiotic');
                setShowProbioticPrompt(isToday(selectedDate) && !hasProbiotic);
            };

            const showNotification = (message) => {
                setNotificationMessage(message);
                setShowSuccessNotification(true);
                setTimeout(() => {
                    setShowSuccessNotification(false);
                }, 3000);
            };

            const getDaySummary = () => {
                const feedingCount = entries.filter(e => e.type === 'feeding').length;
                const poopCount = entries.filter(e => e.type === 'poop' || e.type === 'both').length;
                const peeCount = entries.filter(e => e.type === 'pee' || e.type === 'both').length;
                return { feedingCount, poopCount, peeCount };
            };

            const fetchEntries = async () => {
                const startOfDay = new Date(selectedDate);
                startOfDay.setHours(0, 0, 0, 0);
                
                const endOfDay = new Date(selectedDate);
                endOfDay.setHours(23, 59, 59, 999);

                const { data, error } = await supabase
                    .from('entries')
                    .select('*')
                    .gte('timestamp', startOfDay.toISOString())
                    .lte('timestamp', endOfDay.toISOString())
                    .order('timestamp', { ascending: false });

                if (error) {
                    console.error('B≈ÇƒÖd pobierania danych:', error);
                } else {
                    setEntries(data || []);
                }
            };

            const fetchHistoricalSummary = async () => {
                // Pobierz wszystkie wpisy od 17.11.2025
                const startDate = new Date('2025-11-17T00:00:00');
                const { data, error } = await supabase
                    .from('entries')
                    .select('*')
                    .gte('timestamp', startDate.toISOString())
                    .order('timestamp', { ascending: false });

                if (error) {
                    console.error('B≈ÇƒÖd pobierania historii:', error);
                    return;
                }

                console.log('Pobrano wpis√≥w:', data?.length);

                // Grupuj wpisy po dniach (LOKALNY CZAS!)
                const dailySummary = {};
                
                (data || []).forEach(entry => {
                    // Konwertuj UTC timestamp na lokalnƒÖ datƒô
                    const localDate = new Date(entry.timestamp);
                    const dateStr = localDate.getFullYear() + '-' + 
                                   String(localDate.getMonth() + 1).padStart(2, '0') + '-' + 
                                   String(localDate.getDate()).padStart(2, '0');
                    
                    if (!dailySummary[dateStr]) {
                        dailySummary[dateStr] = {
                            date: dateStr,
                            feeding: 0,
                            poop: 0,
                            pee: 0
                        };
                    }
                    
                    // Zliczaj wszystkie typy poprawnie
                    if (entry.type === 'feeding') {
                        dailySummary[dateStr].feeding++;
                    } else if (entry.type === 'poop') {
                        dailySummary[dateStr].poop++;
                    } else if (entry.type === 'pee') {
                        dailySummary[dateStr].pee++;
                    } else if (entry.type === 'both') {
                        // Type "both" to +1 kupka AND +1 siku
                        dailySummary[dateStr].poop++;
                        dailySummary[dateStr].pee++;
                    }
                    // Pomijamy vitamind i probiotic - nie sƒÖ wy≈õwietlane w podsumowaniu
                });

                // Konwertuj na tablicƒô i sortuj od najnowszych
                const summaryArray = Object.values(dailySummary).sort((a, b) => 
                    new Date(b.date) - new Date(a.date)
                );
                
                console.log('Podsumowanie dla', summaryArray.length, 'dni');
                setHistoricalSummary(summaryArray);
            };

            const handleLogin = async (e) => {
                e.preventDefault();
                setLoginError('');
                setSuccessMessage('');
                
                try {
                    const { data, error } = await supabase.auth.signInWithPassword({
                        email: email,
                        password: password,
                    });

                    if (error) {
                        setLoginError(error.message === 'Invalid login credentials' 
                            ? 'Nieprawid≈Çowy email lub has≈Ço' 
                            : error.message);
                    } else {
                        setUser(data.user);
                        setIsLoggedIn(true);
                        setEmail('');
                        setPassword('');
                    }
                } catch (error) {
                    setLoginError('B≈ÇƒÖd logowania. Spr√≥buj ponownie.');
                    console.error('Login error:', error);
                }
            };

            const handleRegister = async (e) => {
                e.preventDefault();
                setLoginError('');
                setSuccessMessage('');
                
                try {
                    const { data, error } = await supabase.auth.signUp({
                        email: email,
                        password: password,
                    });

                    if (error) {
                        setLoginError(error.message === 'User already registered' 
                            ? 'Ten email jest ju≈º zarejestrowany' 
                            : error.message);
                    } else {
                        setSuccessMessage('Konto utworzone! Sprawd≈∫ email aby je aktywowaƒá.');
                        setEmail('');
                        setPassword('');
                        setTimeout(() => setAuthMode('login'), 3000);
                    }
                } catch (error) {
                    setLoginError('B≈ÇƒÖd rejestracji. Spr√≥buj ponownie.');
                    console.error('Register error:', error);
                }
            };

            const handleResetPassword = async (e) => {
                e.preventDefault();
                setLoginError('');
                setSuccessMessage('');
                
                try {
                    const { error } = await supabase.auth.resetPasswordForEmail(email, {
                        redirectTo: window.location.origin,
                    });

                    if (error) {
                        setLoginError(error.message);
                    } else {
                        setSuccessMessage('Link do resetowania has≈Ça zosta≈Ç wys≈Çany na email!');
                        setEmail('');
                        setTimeout(() => setAuthMode('login'), 3000);
                    }
                } catch (error) {
                    setLoginError('B≈ÇƒÖd resetowania has≈Ça. Spr√≥buj ponownie.');
                    console.error('Reset error:', error);
                }
            };

            const handleLogout = async () => {
                await supabase.auth.signOut();
                setIsLoggedIn(false);
                setUser(null);
                setEmail('');
                setPassword('');
            };

            const addFeeding = async () => {
                const now = new Date();
                const { data, error } = await supabase
                    .from('entries')
                    .insert([
                        { type: 'feeding', timestamp: now.toISOString(), note: null }
                    ])
                    .select();

                if (error) {
                    console.error('B≈ÇƒÖd dodawania karmienia:', error);
                    alert('B≈ÇƒÖd zapisu. Sprawd≈∫ konfiguracjƒô Supabase.');
                } else {
                    showNotification('‚úÖ Dodano karmienie');
                    fetchEntries();
                }
            };

            const addVitaminD = async () => {
                const now = new Date();
                const { data, error } = await supabase
                    .from('entries')
                    .insert([
                        { type: 'vitamin_d', timestamp: now.toISOString(), note: null }
                    ])
                    .select();

                if (error) {
                    console.error('B≈ÇƒÖd dodawania witaminy D:', error);
                    alert('B≈ÇƒÖd zapisu. Sprawd≈∫ konfiguracjƒô Supabase.');
                } else {
                    setShowVitaminDPrompt(false);
                    fetchEntries();
                }
            };

            const addProbiotic = async () => {
                const now = new Date();
                const { data, error } = await supabase
                    .from('entries')
                    .insert([
                        { type: 'probiotic', timestamp: now.toISOString(), note: null }
                    ])
                    .select();

                if (error) {
                    console.error('B≈ÇƒÖd dodawania probiotyku:', error);
                    alert('B≈ÇƒÖd zapisu. Sprawd≈∫ konfiguracjƒô Supabase.');
                } else {
                    setShowProbioticPrompt(false);
                    fetchEntries();
                }
            };

            const openDiaperModal = (type) => {
                setModalType(type);
                setModalData({ poop: false, pee: false, note: '', time: '' });
                setShowModal(true);
            };

            const openManualAddModal = () => {
                const now = new Date();
                setManualAddData({
                    feeding: false,
                    poop: false,
                    pee: false,
                    date: now.toISOString().split('T')[0],
                    time: `${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`
                });
                setShowManualAddModal(true);
            };

            const saveManualEntry = async () => {
                const { feeding, poop, pee, date, time } = manualAddData;
                
                if (!feeding && !poop && !pee) {
                    alert('Wybierz przynajmniej jednƒÖ opcjƒô');
                    return;
                }

                const [hours, minutes] = time.split(':');
                const timestamp = new Date(date);
                timestamp.setHours(parseInt(hours), parseInt(minutes), 0, 0);

                const entries = [];
                
                if (feeding) {
                    entries.push({ type: 'feeding', timestamp: timestamp.toISOString(), note: null });
                }
                
                if (poop && pee) {
                    entries.push({ type: 'both', timestamp: timestamp.toISOString(), note: null });
                } else {
                    if (poop) {
                        entries.push({ type: 'poop', timestamp: timestamp.toISOString(), note: null });
                    }
                    if (pee) {
                        entries.push({ type: 'pee', timestamp: timestamp.toISOString(), note: null });
                    }
                }

                const { error } = await supabase
                    .from('entries')
                    .insert(entries);

                if (error) {
                    console.error('B≈ÇƒÖd dodawania:', error);
                    alert('B≈ÇƒÖd zapisu.');
                } else {
                    setShowManualAddModal(false);
                    fetchEntries();
                    showNotification('Dodano!');
                }
            };

            const saveDiaperEntry = async () => {
                const { poop, pee, note } = modalData;
                
                let type = '';
                if (poop && pee) type = 'both';
                else if (poop) type = 'poop';
                else if (pee) type = 'pee';
                else {
                    alert('Zaznacz przynajmniej jednƒÖ opcjƒô');
                    return;
                }

                const now = new Date();
                const { data, error } = await supabase
                    .from('entries')
                    .insert([
                        { 
                            type, 
                            timestamp: now.toISOString(), 
                            note: note.trim() || null 
                        }
                    ])
                    .select();

                if (error) {
                    console.error('B≈ÇƒÖd dodawania wpisu:', error);
                    alert('B≈ÇƒÖd zapisu. Sprawd≈∫ konfiguracjƒô Supabase.');
                } else {
                    setShowModal(false);
                    showNotification('‚úÖ Dodano kupkƒô/siku');
                    fetchEntries();
                }
            };

            const startEdit = (entry) => {
                setEditingEntry(entry);
                // Extract time from timestamp (HH:MM format)
                const entryDate = new Date(entry.timestamp);
                const hours = String(entryDate.getHours()).padStart(2, '0');
                const minutes = String(entryDate.getMinutes()).padStart(2, '0');
                const timeString = `${hours}:${minutes}`;
                
                setModalData({
                    poop: entry.type === 'poop' || entry.type === 'both',
                    pee: entry.type === 'pee' || entry.type === 'both',
                    note: entry.note || '',
                    time: timeString
                });
                setModalType('edit');
                setShowModal(true);
            };

            const saveEdit = async () => {
                const { poop, pee, note, time } = modalData;
                
                let type = editingEntry.type;
                if (editingEntry.type !== 'feeding') {
                    if (poop && pee) type = 'both';
                    else if (poop) type = 'poop';
                    else if (pee) type = 'pee';
                    else {
                        alert('Zaznacz przynajmniej jednƒÖ opcjƒô');
                        return;
                    }
                }

                // Create new timestamp with edited time
                let newTimestamp = editingEntry.timestamp;
                if (time && time.includes(':')) {
                    const originalDate = new Date(editingEntry.timestamp);
                    const [hours, minutes] = time.split(':');
                    originalDate.setHours(parseInt(hours), parseInt(minutes), 0, 0);
                    newTimestamp = originalDate.toISOString();
                }

                const { error } = await supabase
                    .from('entries')
                    .update({ 
                        type, 
                        note: note.trim() || null,
                        timestamp: newTimestamp
                    })
                    .eq('id', editingEntry.id);

                if (error) {
                    console.error('B≈ÇƒÖd edycji:', error);
                    alert('B≈ÇƒÖd zapisu.');
                } else {
                    setShowModal(false);
                    setEditingEntry(null);
                    fetchEntries();
                }
            };

            const deleteEntry = async (id) => {
                const { error } = await supabase
                    .from('entries')
                    .delete()
                    .eq('id', id);

                if (error) {
                    console.error('B≈ÇƒÖd usuwania:', error);
                    alert('B≈ÇƒÖd usuwania.');
                } else {
                    setShowDeleteConfirm(null);
                    fetchEntries();
                }
            };

            const formatDateTime = (timestamp) => {
                const date = new Date(timestamp);
                const day = String(date.getDate()).padStart(2, '0');
                const month = String(date.getMonth() + 1).padStart(2, '0');
                const year = date.getFullYear();
                const hours = String(date.getHours()).padStart(2, '0');
                const minutes = String(date.getMinutes()).padStart(2, '0');
                return `${day}/${month}/${year}, ${hours}:${minutes}`;
            };

            const changeDate = (days) => {
                const newDate = new Date(selectedDate);
                newDate.setDate(newDate.getDate() + days);
                setSelectedDate(newDate);
            };

            const getTypeLabel = (type) => {
                switch(type) {
                    case 'feeding': return 'üçº Karmienie';
                    case 'poop': return 'üí© Kupka';
                    case 'pee': return 'üíß Siku';
                    case 'both': return 'üí©üíß Kupka + Siku';
                    case 'vitamin_d': return 'üíä Witamina D';
                    case 'probiotic': return 'ü¶† Probiotyk';
                    default: return type;
                }
            };

            const getTypeColor = (type) => {
                switch(type) {
                    case 'feeding': return '#666';
                    case 'poop': return '#666';
                    case 'pee': return '#666';
                    case 'both': return '#666';
                    case 'vitamin_d': return '#666';
                    case 'probiotic': return '#666';
                    default: return '#999';
                }
            };

            // Ekran logowania
            if (!isLoggedIn) {
                return (
                    <div style={{
                        minHeight: '100vh',
                        background: '#f5f5f5',
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'center',
                        fontFamily: 'Roboto, sans-serif',
                        padding: '20px'
                    }}>
                        <div style={{
                            background: 'white',
                            borderRadius: '24px',
                            padding: '48px',
                            maxWidth: '400px',
                            width: '100%',
                            boxShadow: '0 20px 60px rgba(0,0,0,0.1)'
                        }}>
                            <div style={{
                                textAlign: 'center',
                                marginBottom: '32px'
                            }}>
                                <div style={{ fontSize: '64px', marginBottom: '16px' }}>üë∂</div>
                                <h1 style={{ 
                                    margin: '0 0 8px 0', 
                                    color: '#333',
                                    fontSize: '32px',
                                    fontWeight: 'bold'
                                }}>
                                    Baby Monitor
                                </h1>
                                <p style={{ 
                                    margin: 0, 
                                    color: '#888',
                                    fontSize: '16px'
                                }}>
                                    Monitorowanie niemowlaka
                                </p>
                            </div>
                            
                            <form onSubmit={authMode === 'login' ? handleLogin : authMode === 'register' ? handleRegister : handleResetPassword}>
                                <div style={{ marginBottom: '20px' }}>
                                    <label style={{ 
                                        display: 'block', 
                                        marginBottom: '8px',
                                        color: '#555',
                                        fontWeight: '600',
                                        fontSize: '14px'
                                    }}>
                                        Email
                                    </label>
                                    <input
                                        type="email"
                                        value={email}
                                        onChange={(e) => setEmail(e.target.value)}
                                        placeholder="twoj@email.com"
                                        required
                                        style={{
                                            width: '100%',
                                            padding: '14px',
                                            borderRadius: '12px',
                                            border: '2px solid #e0e0e0',
                                            fontSize: '16px',
                                            fontFamily: 'inherit',
                                            boxSizing: 'border-box',
                                            transition: 'border-color 0.3s'
                                        }}
                                        onFocus={(e) => e.target.style.borderColor = '#666'}
                                        onBlur={(e) => e.target.style.borderColor = '#e0e0e0'}
                                    />
                                </div>
                                
                                {authMode !== 'reset' && (
                                    <div style={{ marginBottom: '24px' }}>
                                        <label style={{ 
                                            display: 'block', 
                                            marginBottom: '8px',
                                            color: '#555',
                                            fontWeight: '600',
                                            fontSize: '14px'
                                        }}>
                                            Has≈Ço
                                        </label>
                                        <input
                                            type="password"
                                            value={password}
                                            onChange={(e) => setPassword(e.target.value)}
                                            placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                                            required
                                            minLength={authMode === 'register' ? 6 : undefined}
                                            style={{
                                                width: '100%',
                                                padding: '14px',
                                                borderRadius: '12px',
                                                border: '2px solid #e0e0e0',
                                                fontSize: '16px',
                                                fontFamily: 'inherit',
                                                boxSizing: 'border-box',
                                                transition: 'border-color 0.3s'
                                            }}
                                            onFocus={(e) => e.target.style.borderColor = '#666'}
                                            onBlur={(e) => e.target.style.borderColor = '#e0e0e0'}
                                        />
                                        {authMode === 'register' && (
                                            <div style={{ fontSize: '12px', color: '#888', marginTop: '6px' }}>
                                                Minimum 6 znak√≥w
                                            </div>
                                        )}
                                    </div>
                                )}
                                
                                {successMessage && (
                                    <div style={{
                                        background: '#e8f5e9',
                                        color: '#2e7d32',
                                        padding: '12px',
                                        borderRadius: '8px',
                                        marginBottom: '20px',
                                        fontSize: '14px',
                                        textAlign: 'center',
                                        border: '1px solid #a5d6a7'
                                    }}>
                                        {successMessage}
                                    </div>
                                )}
                                
                                {loginError && (
                                    <div style={{
                                        background: '#ffebee',
                                        color: '#c62828',
                                        padding: '12px',
                                        borderRadius: '8px',
                                        marginBottom: '20px',
                                        fontSize: '14px',
                                        textAlign: 'center',
                                        border: '1px solid #ef9a9a'
                                    }}>
                                        {loginError}
                                    </div>
                                )}
                                
                                <button
                                    type="submit"
                                    style={{
                                        width: '100%',
                                        padding: '16px',
                                        background: '#000',
                                        color: 'white',
                                        border: 'none',
                                        borderRadius: '12px',
                                        fontSize: '18px',
                                        fontWeight: 'bold',
                                        cursor: 'pointer',
                                        fontFamily: 'inherit',
                                        transition: 'transform 0.2s, box-shadow 0.2s',
                                        boxShadow: '0 4px 12px rgba(0, 0, 0, 0.2)',
                                        marginBottom: '16px'
                                    }}
                                    onMouseEnter={(e) => {
                                        e.target.style.transform = 'translateY(-2px)';
                                        e.target.style.boxShadow = '0 6px 20px rgba(0, 0, 0, 0.3)';
                                    }}
                                    onMouseLeave={(e) => {
                                        e.target.style.transform = 'translateY(0)';
                                        e.target.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.2)';
                                    }}
                                >
                                    {authMode === 'login' && 'Zaloguj siƒô'}
                                    {authMode === 'register' && 'Zarejestruj siƒô'}
                                    {authMode === 'reset' && 'Wy≈õlij link'}
                                </button>
                                
                                <div style={{ textAlign: 'center', marginTop: '20px' }}>
                                    {authMode === 'login' && (
                                        <>
                                            <div style={{ marginBottom: '12px' }}>
                                                <button
                                                    type="button"
                                                    onClick={() => {
                                                        setAuthMode('reset');
                                                        setLoginError('');
                                                        setSuccessMessage('');
                                                    }}
                                                    style={{
                                                        background: 'none',
                                                        border: 'none',
                                                        color: '#666',
                                                        fontSize: '14px',
                                                        cursor: 'pointer',
                                                        textDecoration: 'underline',
                                                        fontFamily: 'inherit'
                                                    }}
                                                >
                                                    Zapomnia≈Çe≈õ has≈Ça?
                                                </button>
                                            </div>
                                            <div>
                                                <span style={{ fontSize: '14px', color: '#888' }}>Nie masz konta? </span>
                                                <button
                                                    type="button"
                                                    onClick={() => {
                                                        setAuthMode('register');
                                                        setLoginError('');
                                                        setSuccessMessage('');
                                                    }}
                                                    style={{
                                                        background: 'none',
                                                        border: 'none',
                                                        color: '#000',
                                                        fontSize: '14px',
                                                        cursor: 'pointer',
                                                        fontWeight: 'bold',
                                                        textDecoration: 'underline',
                                                        fontFamily: 'inherit'
                                                    }}
                                                >
                                                    Zarejestruj siƒô
                                                </button>
                                            </div>
                                        </>
                                    )}
                                    {(authMode === 'register' || authMode === 'reset') && (
                                        <button
                                            type="button"
                                            onClick={() => {
                                                setAuthMode('login');
                                                setLoginError('');
                                                setSuccessMessage('');
                                            }}
                                            style={{
                                                background: 'none',
                                                border: 'none',
                                                color: '#666',
                                                fontSize: '14px',
                                                cursor: 'pointer',
                                                textDecoration: 'underline',
                                                fontFamily: 'inherit'
                                            }}
                                        >
                                            ‚Üê Powr√≥t do logowania
                                        </button>
                                    )}
                                </div>
                            </form>
                        </div>
                    </div>
                );
            }

            // G≈Ç√≥wna aplikacja
            return (
                <div style={{
                    minHeight: '100vh',
                    background: '#f5f5f5',
                    fontFamily: 'Roboto, sans-serif',
                    padding: '20px'
                }}>
                    {/* Header */}
                    <div style={{
                        maxWidth: '900px',
                        margin: '0 auto 16px'
                    }}>
                        {/* Top bar - Logo and Logout */}
                        <div style={{
                            background: 'white',
                            borderRadius: '20px',
                            padding: '16px 24px',
                            boxShadow: '0 4px 20px rgba(0,0,0,0.1)',
                            display: 'flex',
                            justifyContent: 'space-between',
                            alignItems: 'center',
                            marginBottom: '12px'
                        }}>
                            <div 
                                onClick={() => setCurrentView('dashboard')}
                                style={{ 
                                    display: 'flex', 
                                    alignItems: 'center', 
                                    gap: '12px',
                                    cursor: 'pointer'
                                }}
                            >
                                <div style={{ fontSize: '36px' }}>üë∂</div>
                                <h1 style={{ margin: 0, color: '#333', fontSize: '22px' }}>
                                    Baby Monitor
                                </h1>
                            </div>
                            
                            <button
                                onClick={handleLogout}
                                style={{
                                    padding: '10px 20px',
                                    background: '#e0e0e0',
                                    color: '#333',
                                    border: 'none',
                                    borderRadius: '12px',
                                    cursor: 'pointer',
                                    fontFamily: 'inherit',
                                    fontSize: '15px',
                                    fontWeight: '600',
                                    transition: 'all 0.3s'
                                }}
                            >
                                Wyloguj
                            </button>
                        </div>
                        
                        {/* Tabs - Panel, Historia, and Podsumowanie */}
                        <div style={{
                            background: 'white',
                            borderRadius: '16px',
                            padding: '8px',
                            boxShadow: '0 2px 12px rgba(0,0,0,0.08)',
                            display: 'flex',
                            gap: '8px'
                        }}>
                            <button
                                onClick={() => setCurrentView('dashboard')}
                                style={{
                                    flex: 1,
                                    padding: '12px',
                                    background: currentView === 'dashboard' ? '#000' : 'transparent',
                                    color: currentView === 'dashboard' ? 'white' : '#666',
                                    border: 'none',
                                    borderRadius: '10px',
                                    cursor: 'pointer',
                                    fontFamily: 'inherit',
                                    fontSize: '16px',
                                    fontWeight: '600',
                                    transition: 'all 0.3s'
                                }}
                            >
                                Panel
                            </button>
                            
                            <button
                                onClick={() => setCurrentView('history')}
                                style={{
                                    flex: 1,
                                    padding: '12px',
                                    background: currentView === 'history' ? '#000' : 'transparent',
                                    color: currentView === 'history' ? 'white' : '#666',
                                    border: 'none',
                                    borderRadius: '10px',
                                    cursor: 'pointer',
                                    fontFamily: 'inherit',
                                    fontSize: '16px',
                                    fontWeight: '600',
                                    transition: 'all 0.3s'
                                }}
                            >
                                Historia
                            </button>
                            
                            <button
                                onClick={() => setCurrentView('summary')}
                                style={{
                                    flex: 1,
                                    padding: '12px',
                                    background: currentView === 'summary' ? '#000' : 'transparent',
                                    color: currentView === 'summary' ? 'white' : '#666',
                                    border: 'none',
                                    borderRadius: '10px',
                                    cursor: 'pointer',
                                    fontFamily: 'inherit',
                                    fontSize: '16px',
                                    fontWeight: '600',
                                    transition: 'all 0.3s'
                                }}
                            >
                                Podsumowanie
                            </button>
                        </div>
                    </div>

                    {/* Dashboard */}
                    {currentView === 'dashboard' && (
                        <div style={{
                            maxWidth: '900px',
                            margin: '0 auto'
                        }}>
                            {/* Supplements prompts - Vitamin D and Probiotic */}
                            {(showVitaminDPrompt || showProbioticPrompt) && (
                                <div style={{
                                    display: 'grid',
                                    gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))',
                                    gap: '16px',
                                    marginBottom: '24px'
                                }}>
                                    {/* Vitamin D prompt */}
                                    {showVitaminDPrompt && (
                                        <div style={{
                                            background: '#e8e8e8',
                                            borderRadius: '16px',
                                            padding: '20px',
                                            boxShadow: '0 4px 16px rgba(0, 0, 0, 0.1)',
                                            display: 'flex',
                                            flexDirection: 'column',
                                            gap: '12px',
                                            alignItems: 'center'
                                        }}>
                                            <div style={{ fontSize: '36px' }}>üíä</div>
                                            <div style={{
                                                fontSize: '16px',
                                                fontWeight: 'bold',
                                                color: '#333',
                                                textAlign: 'center'
                                            }}>
                                                Czy poda≈Çe≈õ witaminƒô D?
                                            </div>
                                            <div style={{
                                                display: 'flex',
                                                gap: '8px',
                                                width: '100%',
                                                flexWrap: 'wrap'
                                            }}>
                                                <button
                                                    onClick={addVitaminD}
                                                    style={{
                                                        flex: 1,
                                                        minWidth: '100px',
                                                        padding: '10px 16px',
                                                        background: '#44AD0C',
                                                        color: 'white',
                                                        border: 'none',
                                                        borderRadius: '10px',
                                                        fontSize: '14px',
                                                        fontWeight: 'bold',
                                                        cursor: 'pointer',
                                                        fontFamily: 'inherit',
                                                        boxShadow: '0 2px 8px rgba(68, 173, 12, 0.3)',
                                                        transition: 'all 0.2s'
                                                    }}
                                                    onMouseEnter={(e) => {
                                                        e.target.style.transform = 'translateY(-1px)';
                                                        e.target.style.boxShadow = '0 4px 12px rgba(68, 173, 12, 0.4)';
                                                    }}
                                                    onMouseLeave={(e) => {
                                                        e.target.style.transform = 'translateY(0)';
                                                        e.target.style.boxShadow = '0 2px 8px rgba(68, 173, 12, 0.3)';
                                                    }}
                                                >
                                                    ‚úì Tak
                                                </button>
                                                <button
                                                    onClick={() => setShowVitaminDPrompt(false)}
                                                    style={{
                                                        flex: 1,
                                                        minWidth: '100px',
                                                        padding: '10px 16px',
                                                        background: 'white',
                                                        color: '#333',
                                                        border: '2px solid #ddd',
                                                        borderRadius: '10px',
                                                        fontSize: '14px',
                                                        fontWeight: 'bold',
                                                        cursor: 'pointer',
                                                        fontFamily: 'inherit',
                                                        transition: 'all 0.2s'
                                                    }}
                                                    onMouseEnter={(e) => {
                                                        e.target.style.background = '#f5f5f5';
                                                    }}
                                                    onMouseLeave={(e) => {
                                                        e.target.style.background = 'white';
                                                    }}
                                                >
                                                    P√≥≈∫niej
                                                </button>
                                            </div>
                                        </div>
                                    )}
                                    
                                    {/* Probiotic prompt */}
                                    {showProbioticPrompt && (
                                        <div style={{
                                            background: '#e8e8e8',
                                            borderRadius: '16px',
                                            padding: '20px',
                                            boxShadow: '0 4px 16px rgba(0, 0, 0, 0.1)',
                                            display: 'flex',
                                            flexDirection: 'column',
                                            gap: '12px',
                                            alignItems: 'center'
                                        }}>
                                            <div style={{ fontSize: '36px' }}>ü¶†</div>
                                            <div style={{
                                                fontSize: '16px',
                                                fontWeight: 'bold',
                                                color: '#333',
                                                textAlign: 'center'
                                            }}>
                                                Czy poda≈Çe≈õ dzi≈õ probiotyk?
                                            </div>
                                            <div style={{
                                                display: 'flex',
                                                gap: '8px',
                                                width: '100%',
                                                flexWrap: 'wrap'
                                            }}>
                                                <button
                                                    onClick={addProbiotic}
                                                    style={{
                                                        flex: 1,
                                                        minWidth: '100px',
                                                        padding: '10px 16px',
                                                        background: '#44AD0C',
                                                        color: 'white',
                                                        border: 'none',
                                                        borderRadius: '10px',
                                                        fontSize: '14px',
                                                        fontWeight: 'bold',
                                                        cursor: 'pointer',
                                                        fontFamily: 'inherit',
                                                        boxShadow: '0 2px 8px rgba(68, 173, 12, 0.3)',
                                                        transition: 'all 0.2s'
                                                    }}
                                                    onMouseEnter={(e) => {
                                                        e.target.style.transform = 'translateY(-1px)';
                                                        e.target.style.boxShadow = '0 4px 12px rgba(68, 173, 12, 0.4)';
                                                    }}
                                                    onMouseLeave={(e) => {
                                                        e.target.style.transform = 'translateY(0)';
                                                        e.target.style.boxShadow = '0 2px 8px rgba(68, 173, 12, 0.3)';
                                                    }}
                                                >
                                                    ‚úì Tak
                                                </button>
                                                <button
                                                    onClick={() => setShowProbioticPrompt(false)}
                                                    style={{
                                                        flex: 1,
                                                        minWidth: '100px',
                                                        padding: '10px 16px',
                                                        background: 'white',
                                                        color: '#333',
                                                        border: '2px solid #ddd',
                                                        borderRadius: '10px',
                                                        fontSize: '14px',
                                                        fontWeight: 'bold',
                                                        cursor: 'pointer',
                                                        fontFamily: 'inherit',
                                                        transition: 'all 0.2s'
                                                    }}
                                                    onMouseEnter={(e) => {
                                                        e.target.style.background = '#f5f5f5';
                                                    }}
                                                    onMouseLeave={(e) => {
                                                        e.target.style.background = 'white';
                                                    }}
                                                >
                                                    P√≥≈∫niej
                                                </button>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            )}
                            
                            <div className="dashboard-grid" style={{
                                display: 'grid',
                                gridTemplateColumns: 'repeat(2, 1fr)',
                                gap: '24px'
                            }}>
                                {/* Karmienie */}
                                <button
                                    className="dashboard-button"
                                    onClick={addFeeding}
                                    style={{
                                        background: 'white',
                                        border: 'none',
                                        borderRadius: '24px',
                                        padding: '48px 32px',
                                        cursor: 'pointer',
                                        boxShadow: '0 8px 24px rgba(0,0,0,0.12)',
                                        transition: 'all 0.3s',
                                        display: 'flex',
                                        flexDirection: 'column',
                                        alignItems: 'center',
                                        gap: '16px'
                                    }}
                                    onMouseEnter={(e) => {
                                        e.currentTarget.style.transform = 'translateY(-8px)';
                                        e.currentTarget.style.boxShadow = '0 12px 32px rgba(0,0,0,0.18)';
                                    }}
                                    onMouseLeave={(e) => {
                                        e.currentTarget.style.transform = 'translateY(0)';
                                        e.currentTarget.style.boxShadow = '0 8px 24px rgba(0,0,0,0.12)';
                                    }}
                                >
                                    <div className="emoji" style={{ fontSize: '72px' }}>üçº</div>
                                    <div className="label" style={{
                                        fontSize: '24px',
                                        fontWeight: 'bold',
                                        color: '#333',
                                        fontFamily: 'inherit'
                                    }}>
                                        Karmienie
                                    </div>
                                    {getTimeSinceLastFeeding() && (
                                        <div style={{
                                            fontSize: '14px',
                                            color: '#666',
                                            fontWeight: '500',
                                            marginTop: '4px'
                                        }}>
                                            Od ostatniego: {getTimeSinceLastFeeding().hours}h {getTimeSinceLastFeeding().minutes}min
                                        </div>
                                    )}
                                </button>

                                {/* Kupka/Siku */}
                                <button
                                    className="dashboard-button"
                                    onClick={() => openDiaperModal('both')}
                                    style={{
                                        background: 'white',
                                        border: 'none',
                                        borderRadius: '24px',
                                        padding: '48px 32px',
                                        cursor: 'pointer',
                                        boxShadow: '0 8px 24px rgba(0,0,0,0.12)',
                                        transition: 'all 0.3s',
                                        display: 'flex',
                                        flexDirection: 'column',
                                        alignItems: 'center',
                                        gap: '16px'
                                    }}
                                    onMouseEnter={(e) => {
                                        e.currentTarget.style.transform = 'translateY(-8px)';
                                        e.currentTarget.style.boxShadow = '0 12px 32px rgba(0,0,0,0.18)';
                                    }}
                                    onMouseLeave={(e) => {
                                        e.currentTarget.style.transform = 'translateY(0)';
                                        e.currentTarget.style.boxShadow = '0 8px 24px rgba(0,0,0,0.12)';
                                    }}
                                >
                                    <div className="emoji" style={{ fontSize: '72px' }}>üí©üíß</div>
                                    <div className="label" style={{
                                        fontSize: '24px',
                                        fontWeight: 'bold',
                                        color: '#333',
                                        fontFamily: 'inherit'
                                    }}>
                                        Kupka/Siku
                                    </div>
                                </button>
                            </div>
                            
                            {/* Dodaj rƒôcznie */}
                            <div style={{ 
                                textAlign: 'center',
                                marginTop: '24px'
                            }}>
                                <button
                                    onClick={openManualAddModal}
                                    style={{
                                        background: 'white',
                                        border: '2px solid #e0e0e0',
                                        borderRadius: '12px',
                                        padding: '12px 24px',
                                        cursor: 'pointer',
                                        fontSize: '16px',
                                        fontWeight: '600',
                                        color: '#666',
                                        fontFamily: 'inherit',
                                        transition: 'all 0.3s'
                                    }}
                                    onMouseEnter={(e) => {
                                        e.target.style.background = '#f5f5f5';
                                        e.target.style.borderColor = '#ccc';
                                    }}
                                    onMouseLeave={(e) => {
                                        e.target.style.background = 'white';
                                        e.target.style.borderColor = '#e0e0e0';
                                    }}
                                >
                                    Dodaj rƒôcznie +
                                </button>
                            </div>
                        </div>
                    )}

                    {/* Historia - reszta kodu jest taka sama jak wcze≈õniej */}
                    {currentView === 'history' && (
                        <div style={{
                            maxWidth: '900px',
                            margin: '0 auto'
                        }}>
                            {/* Nawigacja po datach */}
                            <div style={{
                                background: 'white',
                                borderRadius: '20px',
                                padding: '24px',
                                marginBottom: '24px',
                                boxShadow: '0 4px 20px rgba(0,0,0,0.1)',
                                display: 'flex',
                                justifyContent: 'space-between',
                                alignItems: 'center',
                                flexWrap: 'wrap',
                                gap: '12px'
                            }}>
                                <button
                                    onClick={() => changeDate(-1)}
                                    className="nav-button"
                                    style={{
                                        background: '#000',
                                        color: 'white',
                                        border: 'none',
                                        borderRadius: '12px',
                                        padding: '12px 24px',
                                        fontSize: '18px',
                                        cursor: 'pointer',
                                        fontFamily: 'inherit',
                                        fontWeight: 'bold'
                                    }}
                                >
                                    ‚Üê <span className="nav-button-text">Poprzedni</span>
                                </button>
                                
                                <div style={{
                                    fontSize: '20px',
                                    fontWeight: 'bold',
                                    color: '#333'
                                }}>
                                    {selectedDate.toLocaleDateString('pl-PL', {
                                        day: '2-digit',
                                        month: '2-digit',
                                        year: 'numeric'
                                    })}
                                </div>
                                
                                <button
                                    onClick={() => changeDate(1)}
                                    disabled={selectedDate >= new Date()}
                                    className="nav-button"
                                    style={{
                                        background: selectedDate >= new Date() ? '#e0e0e0' : '#000',
                                        color: selectedDate >= new Date() ? '#999' : 'white',
                                        border: 'none',
                                        borderRadius: '12px',
                                        padding: '12px 24px',
                                        fontSize: '18px',
                                        cursor: selectedDate >= new Date() ? 'not-allowed' : 'pointer',
                                        fontFamily: 'inherit',
                                        fontWeight: 'bold'
                                    }}
                                >
                                    <span className="nav-button-text">Nastƒôpny</span> ‚Üí
                                </button>
                            </div>

                            {/* Podsumowanie dnia */}
                            <div style={{
                                background: '#e0e0e0',
                                borderRadius: '20px',
                                padding: '24px',
                                marginBottom: '24px',
                                boxShadow: '0 4px 20px rgba(0, 0, 0, 0.1)'
                            }}>
                                <h3 style={{
                                    margin: '0 0 16px 0',
                                    color: '#333',
                                    fontSize: '20px',
                                    textAlign: 'center',
                                    fontWeight: 'bold'
                                }}>
                                    üìä Podsumowanie dnia
                                </h3>
                                <div className="summary-grid" style={{
                                    display: 'grid',
                                    gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))',
                                    gap: '16px'
                                }}>
                                    <div className="summary-box" style={{
                                        background: 'white',
                                        borderRadius: '12px',
                                        padding: '16px',
                                        textAlign: 'center',
                                        boxShadow: '0 2px 8px rgba(0,0,0,0.05)'
                                    }}>
                                        <div style={{ fontSize: '32px', marginBottom: '8px' }}>üçº</div>
                                        <div style={{ fontSize: '28px', fontWeight: 'bold', color: '#333' }}>
                                            {getDaySummary().feedingCount}
                                        </div>
                                    </div>
                                    
                                    <div className="summary-box" style={{
                                        background: 'white',
                                        borderRadius: '12px',
                                        padding: '16px',
                                        textAlign: 'center',
                                        boxShadow: '0 2px 8px rgba(0,0,0,0.05)'
                                    }}>
                                        <div style={{ fontSize: '32px', marginBottom: '8px' }}>üí©</div>
                                        <div style={{ fontSize: '28px', fontWeight: 'bold', color: '#333' }}>
                                            {getDaySummary().poopCount}
                                        </div>
                                    </div>
                                    
                                    <div className="summary-box" style={{
                                        background: 'white',
                                        borderRadius: '12px',
                                        padding: '16px',
                                        textAlign: 'center',
                                        boxShadow: '0 2px 8px rgba(0,0,0,0.05)'
                                    }}>
                                        <div style={{ fontSize: '32px', marginBottom: '8px' }}>üíß</div>
                                        <div style={{ fontSize: '28px', fontWeight: 'bold', color: '#333' }}>
                                            {getDaySummary().peeCount}
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {/* Witamina D i Probiotyk - obok siebie */}
                            <div style={{
                                display: 'grid',
                                gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',
                                gap: '16px',
                                marginBottom: '24px'
                            }}>
                                {/* Witamina D */}
                                <div style={{
                                    background: 'white',
                                    borderRadius: '20px',
                                    padding: '24px',
                                    boxShadow: '0 4px 20px rgba(0,0,0,0.1)'
                                }}>
                                    {entries.filter(e => e.type === 'vitamin_d').length === 0 ? (
                                        <div style={{
                                            padding: '16px',
                                            background: '#f5f5f5',
                                            borderRadius: '12px',
                                            borderLeft: '4px solid #999'
                                        }}>
                                            <p style={{ color: '#666', margin: 0, fontStyle: 'italic' }}>
                                                ‚ö†Ô∏è Nie zaznaczono, ≈ºe podano witaminƒô D
                                            </p>
                                        </div>
                                    ) : (
                                        <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>
                                            {entries.filter(e => e.type === 'vitamin_d').map(entry => (
                                                <div
                                                    key={entry.id}
                                                    style={{
                                                        background: '#fafafa',
                                                        padding: '16px',
                                                        borderRadius: '12px',
                                                        display: 'flex',
                                                        justifyContent: 'space-between',
                                                        alignItems: 'center',
                                                        borderLeft: '4px solid #666',
                                                        flexWrap: 'wrap',
                                                        gap: '12px'
                                                    }}
                                                >
                                                    <div>
                                                        <div style={{ fontWeight: 'bold', marginBottom: '4px', color: '#333' }}>
                                                            {getTypeLabel(entry.type)}
                                                        </div>
                                                        <div style={{ fontSize: '14px', color: '#666' }}>
                                                            {formatDateTime(entry.timestamp)}
                                                        </div>
                                                    </div>
                                                    
                                                    <div style={{ display: 'flex', gap: '8px' }}>
                                                        <button
                                                            onClick={() => setShowDeleteConfirm(entry.id)}
                                                            style={{
                                                                background: '#D21632',
                                                                color: '#ffffff',
                                                                border: 'none',
                                                                borderRadius: '8px',
                                                                padding: '8px 16px',
                                                                cursor: 'pointer',
                                                                fontSize: '14px',
                                                                fontFamily: 'inherit'
                                                            }}
                                                        >
                                                            Usu≈Ñ
                                                        </button>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    )}
                                </div>
                                
                                {/* Probiotyk */}
                                <div style={{
                                    background: 'white',
                                    borderRadius: '20px',
                                    padding: '24px',
                                    boxShadow: '0 4px 20px rgba(0,0,0,0.1)'
                                }}>
                                    {entries.filter(e => e.type === 'probiotic').length === 0 ? (
                                        <div style={{
                                            padding: '16px',
                                            background: '#f5f5f5',
                                            borderRadius: '12px',
                                            borderLeft: '4px solid #999'
                                        }}>
                                            <p style={{ color: '#666', margin: 0, fontStyle: 'italic' }}>
                                                ‚ö†Ô∏è Nie zaznaczono, ≈ºe podano probiotyk
                                            </p>
                                        </div>
                                    ) : (
                                        <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>
                                            {entries.filter(e => e.type === 'probiotic').map(entry => (
                                                <div
                                                    key={entry.id}
                                                    style={{
                                                        background: '#fafafa',
                                                        padding: '16px',
                                                        borderRadius: '12px',
                                                        display: 'flex',
                                                        justifyContent: 'space-between',
                                                        alignItems: 'center',
                                                        borderLeft: '4px solid #666',
                                                        flexWrap: 'wrap',
                                                        gap: '12px'
                                                    }}
                                                >
                                                    <div>
                                                        <div style={{ fontWeight: 'bold', marginBottom: '4px', color: '#333' }}>
                                                            {getTypeLabel(entry.type)}
                                                        </div>
                                                        <div style={{ fontSize: '14px', color: '#666' }}>
                                                            {formatDateTime(entry.timestamp)}
                                                        </div>
                                                    </div>
                                                    
                                                    <div style={{ display: 'flex', gap: '8px' }}>
                                                        <button
                                                            onClick={() => setShowDeleteConfirm(entry.id)}
                                                            style={{
                                                                background: '#D21632',
                                                                color: '#ffffff',
                                                                border: 'none',
                                                                borderRadius: '8px',
                                                                padding: '8px 16px',
                                                                cursor: 'pointer',
                                                                fontSize: '14px',
                                                                fontFamily: 'inherit'
                                                            }}
                                                        >
                                                            Usu≈Ñ
                                                        </button>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    )}
                                </div>
                            </div>

                            {/* Lista wpis√≥w - Karmienia */}
                            <div style={{
                                background: 'white',
                                borderRadius: '20px',
                                padding: '24px',
                                marginBottom: '24px',
                                boxShadow: '0 4px 20px rgba(0,0,0,0.1)'
                            }}>
                                <h2 style={{
                                    margin: '0 0 20px 0',
                                    color: '#333',
                                    fontSize: '24px',
                                    display: 'flex',
                                    alignItems: 'center',
                                    gap: '12px'
                                }}>
                                    <span style={{ fontSize: '32px' }}>üçº</span>
                                    Karmienia
                                </h2>
                                
                                {entries.filter(e => e.type === 'feeding').length === 0 ? (
                                    <p style={{ color: '#999', fontStyle: 'italic' }}>
                                        Brak wpis√≥w
                                    </p>
                                ) : (
                                    <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>
                                        {entries.filter(e => e.type === 'feeding').map(entry => (
                                            <div
                                                key={entry.id}
                                                style={{
                                                    background: '#fafafa',
                                                    padding: '16px',
                                                    borderRadius: '12px',
                                                    display: 'flex',
                                                    justifyContent: 'space-between',
                                                    alignItems: 'center',
                                                    borderLeft: `4px solid ${getTypeColor(entry.type)}`,
                                                    flexWrap: 'wrap',
                                                    gap: '12px'
                                                }}
                                            >
                                                <div>
                                                    <div style={{ fontWeight: 'bold', marginBottom: '4px' }}>
                                                        {formatDateTime(entry.timestamp)}
                                                    </div>
                                                    {entry.note && (
                                                        <div style={{ fontSize: '14px', color: '#666', fontStyle: 'italic' }}>
                                                            {entry.note}
                                                        </div>
                                                    )}
                                                </div>
                                                
                                                <div style={{ display: 'flex', gap: '8px' }}>
                                                    <button
                                                        onClick={() => startEdit(entry)}
                                                        style={{
                                                            background: '#ffffff',
                                                            color: '#000000',
                                                            border: '2px solid #000000',
                                                            borderRadius: '8px',
                                                            padding: '8px 16px',
                                                            cursor: 'pointer',
                                                            fontSize: '14px',
                                                            fontFamily: 'inherit'
                                                        }}
                                                    >
                                                        Edytuj
                                                    </button>
                                                    
                                                    <button
                                                        onClick={() => setShowDeleteConfirm(entry.id)}
                                                        style={{
                                                            background: '#D21632',
                                                            color: '#ffffff',
                                                            border: 'none',
                                                            borderRadius: '8px',
                                                            padding: '8px 16px',
                                                            cursor: 'pointer',
                                                            fontSize: '14px',
                                                            fontFamily: 'inherit'
                                                        }}
                                                    >
                                                        Usu≈Ñ
                                                    </button>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </div>

                            {/* Lista wpis√≥w - Kupki i Siku */}
                            <div style={{
                                background: 'white',
                                borderRadius: '20px',
                                padding: '24px',
                                marginBottom: '24px',
                                boxShadow: '0 4px 20px rgba(0,0,0,0.1)'
                            }}>
                                <h2 style={{
                                    margin: '0 0 20px 0',
                                    color: '#333',
                                    fontSize: '24px',
                                    display: 'flex',
                                    alignItems: 'center',
                                    gap: '12px'
                                }}>
                                    <span style={{ fontSize: '32px' }}>üí©üíß</span>
                                    Kupki i Siku
                                </h2>
                                
                                {entries.filter(e => e.type !== 'feeding' && e.type !== 'vitamin_d' && e.type !== 'probiotic').length === 0 ? (
                                    <p style={{ color: '#999', fontStyle: 'italic' }}>
                                        Brak wpis√≥w
                                    </p>
                                ) : (
                                    <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>
                                        {entries.filter(e => e.type !== 'feeding' && e.type !== 'vitamin_d' && e.type !== 'probiotic').map(entry => (
                                            <div
                                                key={entry.id}
                                                style={{
                                                    background: '#fafafa',
                                                    padding: '16px',
                                                    borderRadius: '12px',
                                                    display: 'flex',
                                                    justifyContent: 'space-between',
                                                    alignItems: 'center',
                                                    borderLeft: `4px solid ${getTypeColor(entry.type)}`,
                                                    flexWrap: 'wrap',
                                                    gap: '12px'
                                                }}
                                            >
                                                <div>
                                                    <div style={{ fontWeight: 'bold', marginBottom: '4px' }}>
                                                        {getTypeLabel(entry.type)}
                                                    </div>
                                                    <div style={{ fontSize: '14px', color: '#666' }}>
                                                        {formatDateTime(entry.timestamp)}
                                                    </div>
                                                    {entry.note && (
                                                        <div style={{ fontSize: '14px', color: '#666', fontStyle: 'italic', marginTop: '4px' }}>
                                                            {entry.note}
                                                        </div>
                                                    )}
                                                </div>
                                                
                                                <div style={{ display: 'flex', gap: '8px' }}>
                                                    <button
                                                        onClick={() => startEdit(entry)}
                                                        style={{
                                                            background: '#ffffff',
                                                            color: '#000000',
                                                            border: '2px solid #000000',
                                                            borderRadius: '8px',
                                                            padding: '8px 16px',
                                                            cursor: 'pointer',
                                                            fontSize: '14px',
                                                            fontFamily: 'inherit'
                                                        }}
                                                    >
                                                        Edytuj
                                                    </button>
                                                    
                                                    <button
                                                        onClick={() => setShowDeleteConfirm(entry.id)}
                                                        style={{
                                                            background: '#D21632',
                                                            color: '#ffffff',
                                                            border: 'none',
                                                            borderRadius: '8px',
                                                            padding: '8px 16px',
                                                            cursor: 'pointer',
                                                            fontSize: '14px',
                                                            fontFamily: 'inherit'
                                                        }}
                                                    >
                                                        Usu≈Ñ
                                                    </button>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </div>
                            
                        </div>
                    )}

                    {/* Historical Summary */}
                    {currentView === 'summary' && (
                        <div style={{
                            maxWidth: '900px',
                            margin: '0 auto'
                        }}>
                            <div style={{
                                background: 'white',
                                borderRadius: '20px',
                                padding: '24px',
                                boxShadow: '0 4px 20px rgba(0,0,0,0.1)'
                            }}>
                                <h2 style={{
                                    margin: '0 0 24px 0',
                                    color: '#333',
                                    fontSize: '24px',
                                    fontWeight: 'bold',
                                    textAlign: 'center'
                                }}>
                                    üìä Historyczne Podsumowanie
                                </h2>
                                
                                {/* Table */}
                                <div style={{ overflowX: 'auto' }}>
                                    <table style={{
                                        width: '100%',
                                        borderCollapse: 'collapse',
                                        fontSize: '14px'
                                    }}>
                                        <thead>
                                            <tr style={{ borderBottom: '2px solid #e0e0e0' }}>
                                                <th style={{
                                                    padding: '12px',
                                                    textAlign: 'left',
                                                    fontWeight: 'bold',
                                                    color: '#333'
                                                }}>
                                                    Data
                                                </th>
                                                <th style={{
                                                    padding: '12px',
                                                    textAlign: 'center',
                                                    fontWeight: 'bold',
                                                    color: '#333'
                                                }}>
                                                    üçº Karmienia
                                                </th>
                                                <th style={{
                                                    padding: '12px',
                                                    textAlign: 'center',
                                                    fontWeight: 'bold',
                                                    color: '#333'
                                                }}>
                                                    üí© Kupki
                                                </th>
                                                <th style={{
                                                    padding: '12px',
                                                    textAlign: 'center',
                                                    fontWeight: 'bold',
                                                    color: '#333'
                                                }}>
                                                    üíß Siku
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {historicalSummary
                                                .slice(summaryPage * ITEMS_PER_PAGE, (summaryPage + 1) * ITEMS_PER_PAGE)
                                                .map((day, index) => (
                                                    <tr 
                                                        key={day.date}
                                                        style={{
                                                            borderBottom: '1px solid #f0f0f0',
                                                            background: index % 2 === 0 ? 'white' : '#fafafa'
                                                        }}
                                                    >
                                                        <td style={{
                                                            padding: '12px',
                                                            fontWeight: '500',
                                                            color: '#333'
                                                        }}>
                                                            {new Date(day.date).toLocaleDateString('pl-PL', {
                                                                day: '2-digit',
                                                                month: '2-digit',
                                                                year: 'numeric'
                                                            })}
                                                        </td>
                                                        <td style={{
                                                            padding: '12px',
                                                            textAlign: 'center',
                                                            color: '#666'
                                                        }}>
                                                            {day.feeding}
                                                        </td>
                                                        <td style={{
                                                            padding: '12px',
                                                            textAlign: 'center',
                                                            color: '#666'
                                                        }}>
                                                            {day.poop}
                                                        </td>
                                                        <td style={{
                                                            padding: '12px',
                                                            textAlign: 'center',
                                                            color: '#666'
                                                        }}>
                                                            {day.pee}
                                                        </td>
                                                    </tr>
                                                ))}
                                        </tbody>
                                    </table>
                                </div>
                                
                                {/* Pagination */}
                                <div style={{
                                    display: 'flex',
                                    justifyContent: 'space-between',
                                    alignItems: 'center',
                                    marginTop: '24px',
                                    flexWrap: 'wrap',
                                    gap: '12px'
                                }}>
                                    <button
                                        onClick={() => setSummaryPage(prev => Math.max(0, prev - 1))}
                                        disabled={summaryPage === 0}
                                        style={{
                                            padding: '10px 20px',
                                            background: summaryPage === 0 ? '#e0e0e0' : '#000',
                                            color: summaryPage === 0 ? '#999' : 'white',
                                            border: 'none',
                                            borderRadius: '10px',
                                            cursor: summaryPage === 0 ? 'not-allowed' : 'pointer',
                                            fontFamily: 'inherit',
                                            fontSize: '14px',
                                            fontWeight: '600'
                                        }}
                                    >
                                        ‚Üê <span className="pagination-button-text">Poprzednie</span>
                                    </button>
                                    
                                    <div style={{
                                        color: '#666',
                                        fontSize: '14px',
                                        fontWeight: '500'
                                    }}>
                                        Strona {summaryPage + 1} z {Math.ceil(historicalSummary.length / ITEMS_PER_PAGE)}
                                    </div>
                                    
                                    <button
                                        onClick={() => setSummaryPage(prev => 
                                            prev < Math.ceil(historicalSummary.length / ITEMS_PER_PAGE) - 1 ? prev + 1 : prev
                                        )}
                                        disabled={summaryPage >= Math.ceil(historicalSummary.length / ITEMS_PER_PAGE) - 1}
                                        style={{
                                            padding: '10px 20px',
                                            background: summaryPage >= Math.ceil(historicalSummary.length / ITEMS_PER_PAGE) - 1 ? '#e0e0e0' : '#000',
                                            color: summaryPage >= Math.ceil(historicalSummary.length / ITEMS_PER_PAGE) - 1 ? '#999' : 'white',
                                            border: 'none',
                                            borderRadius: '10px',
                                            cursor: summaryPage >= Math.ceil(historicalSummary.length / ITEMS_PER_PAGE) - 1 ? 'not-allowed' : 'pointer',
                                            fontFamily: 'inherit',
                                            fontSize: '14px',
                                            fontWeight: '600'
                                        }}
                                    >
                                        <span className="pagination-button-text">Nastƒôpne</span> ‚Üí
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Manual Add Modal */}
                    {showManualAddModal && (
                        <div style={{
                            position: 'fixed',
                            top: 0,
                            left: 0,
                            right: 0,
                            bottom: 0,
                            background: 'rgba(0,0,0,0.5)',
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'center',
                            padding: '20px',
                            zIndex: 1000
                        }}>
                            <div style={{
                                background: 'white',
                                borderRadius: '24px',
                                padding: '32px',
                                maxWidth: '500px',
                                width: '100%',
                                boxShadow: '0 20px 60px rgba(0,0,0,0.3)'
                            }}>
                                <h2 style={{ margin: '0 0 24px 0', fontSize: '24px', color: '#333' }}>
                                    Dodaj rƒôcznie
                                </h2>
                                
                                {/* Type selection */}
                                <div style={{ marginBottom: '24px' }}>
                                    <label style={{
                                        display: 'flex',
                                        alignItems: 'center',
                                        gap: '12px',
                                        padding: '16px',
                                        background: '#f8f8f8',
                                        borderRadius: '12px',
                                        cursor: 'pointer',
                                        marginBottom: '12px'
                                    }}>
                                        <input
                                            type="checkbox"
                                            checked={manualAddData.feeding}
                                            onChange={(e) => setManualAddData({...manualAddData, feeding: e.target.checked})}
                                            style={{ width: '24px', height: '24px', cursor: 'pointer' }}
                                        />
                                        <span style={{ fontSize: '24px' }}>üçº</span>
                                        <span style={{ fontSize: '18px', fontWeight: '600' }}>Karmienie</span>
                                    </label>
                                    
                                    <label style={{
                                        display: 'flex',
                                        alignItems: 'center',
                                        gap: '12px',
                                        padding: '16px',
                                        background: '#f8f8f8',
                                        borderRadius: '12px',
                                        cursor: 'pointer',
                                        marginBottom: '12px'
                                    }}>
                                        <input
                                            type="checkbox"
                                            checked={manualAddData.poop}
                                            onChange={(e) => setManualAddData({...manualAddData, poop: e.target.checked})}
                                            style={{ width: '24px', height: '24px', cursor: 'pointer' }}
                                        />
                                        <span style={{ fontSize: '24px' }}>üí©</span>
                                        <span style={{ fontSize: '18px', fontWeight: '600' }}>Kupka</span>
                                    </label>
                                    
                                    <label style={{
                                        display: 'flex',
                                        alignItems: 'center',
                                        gap: '12px',
                                        padding: '16px',
                                        background: '#f8f8f8',
                                        borderRadius: '12px',
                                        cursor: 'pointer'
                                    }}>
                                        <input
                                            type="checkbox"
                                            checked={manualAddData.pee}
                                            onChange={(e) => setManualAddData({...manualAddData, pee: e.target.checked})}
                                            style={{ width: '24px', height: '24px', cursor: 'pointer' }}
                                        />
                                        <span style={{ fontSize: '24px' }}>üíß</span>
                                        <span style={{ fontSize: '18px', fontWeight: '600' }}>Siku</span>
                                    </label>
                                </div>
                                
                                {/* Date and time */}
                                <div style={{ marginBottom: '24px' }}>
                                    <label style={{ display: 'block', marginBottom: '8px', fontWeight: '600', color: '#555' }}>
                                        Data
                                    </label>
                                    <input
                                        type="date"
                                        value={manualAddData.date}
                                        onChange={(e) => setManualAddData({...manualAddData, date: e.target.value})}
                                        style={{
                                            width: '100%',
                                            padding: '12px',
                                            borderRadius: '12px',
                                            border: '2px solid #e0e0e0',
                                            fontSize: '16px',
                                            fontFamily: 'inherit',
                                            boxSizing: 'border-box',
                                            marginBottom: '16px'
                                        }}
                                    />
                                    
                                    <label style={{ display: 'block', marginBottom: '8px', fontWeight: '600', color: '#555' }}>
                                        Godzina
                                    </label>
                                    <input
                                        type="time"
                                        value={manualAddData.time}
                                        onChange={(e) => setManualAddData({...manualAddData, time: e.target.value})}
                                        style={{
                                            width: '100%',
                                            padding: '12px',
                                            borderRadius: '12px',
                                            border: '2px solid #e0e0e0',
                                            fontSize: '16px',
                                            fontFamily: 'inherit',
                                            boxSizing: 'border-box'
                                        }}
                                    />
                                </div>
                                
                                {/* Buttons */}
                                <div style={{ display: 'flex', gap: '12px', flexWrap: 'wrap' }}>
                                    <button
                                        onClick={() => setShowManualAddModal(false)}
                                        style={{
                                            flex: 1,
                                            minWidth: '120px',
                                            padding: '14px',
                                            background: '#e0e0e0',
                                            color: '#666',
                                            border: 'none',
                                            borderRadius: '12px',
                                            fontSize: '16px',
                                            fontWeight: 'bold',
                                            cursor: 'pointer',
                                            fontFamily: 'inherit'
                                        }}
                                    >
                                        Anuluj
                                    </button>
                                    
                                    <button
                                        onClick={saveManualEntry}
                                        style={{
                                            flex: 1,
                                            minWidth: '120px',
                                            padding: '14px',
                                            background: '#000',
                                            color: 'white',
                                            border: 'none',
                                            borderRadius: '12px',
                                            fontSize: '16px',
                                            fontWeight: 'bold',
                                            cursor: 'pointer',
                                            fontFamily: 'inherit'
                                        }}
                                    >
                                        Zapisz
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Modal dodawania/edycji */}
                    {showModal && (
                        <div style={{
                            position: 'fixed',
                            top: 0,
                            left: 0,
                            right: 0,
                            bottom: 0,
                            background: 'rgba(0,0,0,0.5)',
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'center',
                            padding: '20px',
                            zIndex: 1000
                        }}>
                            <div style={{
                                background: 'white',
                                borderRadius: '24px',
                                padding: '32px',
                                maxWidth: '500px',
                                width: '100%',
                                boxShadow: '0 20px 60px rgba(0,0,0,0.3)'
                            }}>
                                <h2 style={{ margin: '0 0 24px 0', fontSize: '24px', color: '#333' }}>
                                    {modalType === 'edit' ? 'Edytuj wpis' : 'Dodaj wpis'}
                                </h2>
                                
                                {modalType !== 'edit' || editingEntry?.type !== 'feeding' ? (
                                    <div style={{ marginBottom: '24px' }}>
                                        <label style={{
                                            display: 'flex',
                                            alignItems: 'center',
                                            gap: '12px',
                                            padding: '16px',
                                            background: '#f8f8f8',
                                            borderRadius: '12px',
                                            cursor: 'pointer',
                                            marginBottom: '12px',
                                            transition: 'background 0.3s'
                                        }}
                                        onMouseEnter={(e) => e.currentTarget.style.background = '#f0f0f0'}
                                        onMouseLeave={(e) => e.currentTarget.style.background = '#f8f8f8'}
                                        >
                                            <input
                                                type="checkbox"
                                                checked={modalData.poop}
                                                onChange={(e) => setModalData({...modalData, poop: e.target.checked})}
                                                style={{
                                                    width: '24px',
                                                    height: '24px',
                                                    cursor: 'pointer'
                                                }}
                                            />
                                            <span style={{ fontSize: '24px' }}>üí©</span>
                                            <span style={{ fontSize: '18px', fontWeight: '600' }}>Kupka</span>
                                        </label>
                                        
                                        <label style={{
                                            display: 'flex',
                                            alignItems: 'center',
                                            gap: '12px',
                                            padding: '16px',
                                            background: '#f8f8f8',
                                            borderRadius: '12px',
                                            cursor: 'pointer',
                                            transition: 'background 0.3s'
                                        }}
                                        onMouseEnter={(e) => e.currentTarget.style.background = '#f0f0f0'}
                                        onMouseLeave={(e) => e.currentTarget.style.background = '#f8f8f8'}
                                        >
                                            <input
                                                type="checkbox"
                                                checked={modalData.pee}
                                                onChange={(e) => setModalData({...modalData, pee: e.target.checked})}
                                                style={{
                                                    width: '24px',
                                                    height: '24px',
                                                    cursor: 'pointer'
                                                }}
                                            />
                                            <span style={{ fontSize: '24px' }}>üíß</span>
                                            <span style={{ fontSize: '18px', fontWeight: '600' }}>Siku</span>
                                        </label>
                                    </div>
                                ) : (
                                    <div style={{ marginBottom: '24px', padding: '16px', background: '#f8f8f8', borderRadius: '12px' }}>
                                        <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>
                                            <span style={{ fontSize: '32px' }}>üçº</span>
                                            <span style={{ fontSize: '18px', fontWeight: '600' }}>Karmienie</span>
                                        </div>
                                    </div>
                                )}
                                
                                {/* Time input - only in edit mode */}
                                {modalType === 'edit' && (
                                    <div style={{ marginBottom: '24px' }}>
                                        <label style={{
                                            display: 'block',
                                            marginBottom: '8px',
                                            fontWeight: '600',
                                            color: '#555'
                                        }}>
                                            Godzina
                                        </label>
                                        <input
                                            type="time"
                                            value={modalData.time}
                                            onChange={(e) => setModalData({...modalData, time: e.target.value})}
                                            style={{
                                                width: '100%',
                                                padding: '12px',
                                                borderRadius: '12px',
                                                border: '2px solid #e0e0e0',
                                                fontSize: '16px',
                                                fontFamily: 'inherit',
                                                boxSizing: 'border-box'
                                            }}
                                        />
                                    </div>
                                )}
                                
                                <div style={{ marginBottom: '24px' }}>
                                    <label style={{
                                        display: 'block',
                                        marginBottom: '8px',
                                        fontWeight: '600',
                                        color: '#555'
                                    }}>
                                        Notatka (opcjonalnie)
                                    </label>
                                    <textarea
                                        value={modalData.note}
                                        onChange={(e) => setModalData({...modalData, note: e.target.value})}
                                        placeholder="Dodaj notatkƒô..."
                                        style={{
                                            width: '100%',
                                            padding: '12px',
                                            borderRadius: '12px',
                                            border: '2px solid #e0e0e0',
                                            fontSize: '16px',
                                            fontFamily: 'inherit',
                                            minHeight: '100px',
                                            resize: 'vertical',
                                            boxSizing: 'border-box'
                                        }}
                                    />
                                </div>
                                
                                <div style={{ display: 'flex', gap: '12px', flexWrap: 'wrap' }}>
                                    <button
                                        onClick={() => {
                                            setShowModal(false);
                                            setEditingEntry(null);
                                        }}
                                        style={{
                                            flex: 1,
                                            minWidth: '120px',
                                            padding: '14px',
                                            background: '#e0e0e0',
                                            color: '#666',
                                            border: 'none',
                                            borderRadius: '12px',
                                            fontSize: '16px',
                                            fontWeight: 'bold',
                                            cursor: 'pointer',
                                            fontFamily: 'inherit'
                                        }}
                                    >
                                        Anuluj
                                    </button>
                                    
                                    <button
                                        onClick={modalType === 'edit' ? saveEdit : saveDiaperEntry}
                                        style={{
                                            flex: 1,
                                            minWidth: '120px',
                                            padding: '14px',
                                            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                            color: 'white',
                                            border: 'none',
                                            borderRadius: '12px',
                                            fontSize: '16px',
                                            fontWeight: 'bold',
                                            cursor: 'pointer',
                                            fontFamily: 'inherit'
                                        }}
                                    >
                                        {modalType === 'edit' ? 'Zapisz zmiany' : 'Zapisz'}
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Modal potwierdzenia usuniƒôcia */}
                    {showDeleteConfirm && (
                        <div style={{
                            position: 'fixed',
                            top: 0,
                            left: 0,
                            right: 0,
                            bottom: 0,
                            background: 'rgba(0,0,0,0.5)',
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'center',
                            padding: '20px',
                            zIndex: 1000
                        }}>
                            <div style={{
                                background: 'white',
                                borderRadius: '24px',
                                padding: '32px',
                                maxWidth: '400px',
                                width: '100%',
                                boxShadow: '0 20px 60px rgba(0,0,0,0.3)'
                            }}>
                                <h2 style={{ margin: '0 0 16px 0', fontSize: '24px', color: '#333' }}>
                                    Potwierd≈∫ usuniƒôcie
                                </h2>
                                
                                <p style={{ margin: '0 0 24px 0', color: '#666', fontSize: '16px' }}>
                                    Czy na pewno chcesz usunƒÖƒá ten wpis? Tej operacji nie mo≈ºna cofnƒÖƒá.
                                </p>
                                
                                <div style={{ display: 'flex', gap: '12px', flexWrap: 'wrap' }}>
                                    <button
                                        onClick={() => setShowDeleteConfirm(null)}
                                        style={{
                                            flex: 1,
                                            minWidth: '120px',
                                            padding: '14px',
                                            background: '#e0e0e0',
                                            color: '#666',
                                            border: 'none',
                                            borderRadius: '12px',
                                            fontSize: '16px',
                                            fontWeight: 'bold',
                                            cursor: 'pointer',
                                            fontFamily: 'inherit'
                                        }}
                                    >
                                        Anuluj
                                    </button>
                                    
                                    <button
                                        onClick={() => deleteEntry(showDeleteConfirm)}
                                        style={{
                                            flex: 1,
                                            minWidth: '120px',
                                            padding: '14px',
                                            background: '#D21632',
                                            color: '#ffffff',
                                            border: 'none',
                                            borderRadius: '12px',
                                            fontSize: '16px',
                                            fontWeight: 'bold',
                                            cursor: 'pointer',
                                            fontFamily: 'inherit'
                                        }}
                                    >
                                        Usu≈Ñ
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                    
                    {/* Success notification */}
                    {showSuccessNotification && (
                        <div className="success-notification">
                            <div style={{
                                background: 'white',
                                borderRadius: '16px',
                                padding: '24px 32px',
                                textAlign: 'center',
                                maxWidth: '400px',
                                margin: '20px'
                            }}>
                                <div style={{
                                    fontSize: '18px',
                                    fontWeight: 'bold',
                                    color: '#333'
                                }}>
                                    {notificationMessage}
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        // Renderowanie aplikacji
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>